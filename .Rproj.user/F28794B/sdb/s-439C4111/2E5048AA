{
    "contents" : "---\ntitle: 'Week 1: RCM and RCTs'\nauthor: \"JJ Chen\"\ndate: \"January 16, 2015\"\noutput:\n  beamer_presentation:\n    colortheme: beaver\n    fonttheme: professionalfonts\n    highlight: tango\n    keep_tex: no\n    pandoc_args:\n    - --biblio=mybibli.bibtex\n    - --email-obfuscation=none\n    - --parse-raw\n    template: default.beamer.tex\n    theme: Dresden\n  ioslides_presentation:\n    pandoc_args:\n    - --biblio=mybibli.bibtex\n    - --csl=chicago-author-date.csl\n    - --email-obfuscation=none\n    smaller: yes\n---\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(cache=TRUE)\n```\n\n### About Me and Sessions\n\n- JJ Chen (2nd year Econ), jchen215@uic.edu\n- Session Hour: Friday 10:00-10:50 a.m. and 3:00-3:50 p.m., room TBA\n- Sessions are optional; I hope it will be valuable\n- For every session, I was planning to\n    1. review and reinforce class material\n    2. go over problem sets if necessary \n    3. perhaps provide a complementary perspective on the lecture material\n    4. discuss papers assigned\n    \n# Rubin Causal Model\n## Basic Concepts\n### Introduction\n\n- Rubin's Casual Model: potential outcome framework, origins from Neyman's work in agricultural statistics\n    - Not the only framework to think about causality, other competing framework: Pearl's Causal Model; decision theoretic...\n- Generalize experimental setups to observational studies\n- Useful to consider the effect of a cause (policy, law, program...)\n    - this doesn't mean we can't study the cause of an effect\n    - sometimes you get many hypothesis to test when thinking causes of an effect and might potentially lead to a successful project\n    - e.g., Why health care spending in all developed countries, especially US, increase so dramatically?\n    \n### Notations\n\n- In Econ 534, we followed notational convention in linear algebra\n    - scalar: $\\beta$; vectors: $\\vy$, $\\vx$, $\\vbeta$; matrices: $\\mX$\n- In Econ 535, Let's adopt notations in MHE, which follows convention in probability and statistics\n    - random variable: $\\rY_i$, $\\rD_i$; a vector of random variables: $\\rvX_i$; parameters: $\\rho$, $\\kappa$\n    - realizations: $y_i$, $d_i$, $\\vx_i$\n- RCM makes explicit notations for potential outcomes: $\\rY_{1i}$, $\\rY_{0i}$\n    - $\\rY_{1i}$ is the potential outcome __if__ the $i$ would have gotten treatment $\\rD_i = 1$ (confusion?)\n    - another useful notation: $\\rY_{1i} \\equiv \\rY_i\\mid do(\\rD_i = 1)$, or $\\rY_{1i} \\equiv \\rY_i\\mid fix(\\rD_i = 1)$\n    \n### Causal Effect and the Fundamental Difficulty\n\nGroups (more groups?)     $\\rY_{1i}$              $\\rY_{0i}$         \n----------------------   ----------------------- ---------------------- \nTreatment ($\\rD_i=1$)     Observable as $\\rY_i$   Counterfactural        \nControl ($\\rD_i =0$)      Counterfactural         Observable as $\\rY_i$  \n\nTable:  The Fundamental Problem of Causal Inference\n\n- Observed outcome: $\\rY_i = \\rD_i\\rY_{1i} + (1-\\rD_i)\\rY_{0i}$\n- Individual Treatment Effect is defined as a linear difference\n    - $\\rY_{1i}-\\rY_{0i}\\mid\\rD_i=1$, $\\rY_{1i}-\\rY_{0i}\\mid\\rD_i=0$\n- Hopeless at the individual level, go to Average Treatment Effect\n    - $ATE = \\EE{\\rY_{1i} - \\rY_{0i}} = \\EE{\\rY_{1i}} - \\EE{\\rY_{0i}}$\n\n### Prior Assumption of RCM\n\n- RCM implicitly assume no general equilibrium effect and/or no social interaction \n    - or Stable Unit Treatment Value Assumption as referred by @rubin1986statistics:\n    \n> SUTVA is simply the a priori assumption that the value of $Y$ for unit $u$ when exposed to treatment twill be the same _no matter what mechanism is used to assign treatment $t$ to unit $u$_ and _no matter what treatments the other units receive_, and this holds for all $u = 1, \\cdots ,N$ and all $t = 1, \\cdots, T$. \n\n### Linking Structural Eqn to RCM\n\n- Suppose the structural equation of interest:\n    - $\\rY_i = f(\\rD_i, \\eta_i) = \\alpha + \\rho \\rD_i + \\eta_i$, where $\\rD_i$ is binary\n- What are the assumptions we are imposing?\n- Consider the potential outcome of $i$\n    - $\\rY_{0i} = \\alpha + \\eta_i$\n    - $\\rY_{1i} = \\alpha + \\rho + \\eta_i$\n    - individual causal effect: $\\rho$ (homogeneous, can be hetero $\\rho_i$)\n- Recall the observed outcomes: $\\rY_i = \\rD_i\\rY_{1i} + (1-\\rD_i)\\rY_{0i}$\n    - $\\implies \\rY_i = \\rY_{0i} + (\\rY_{1i} - \\rY_{0i})\\rD_i = \\alpha + \\rho_i \\rD_i + \\epsilon_i$\n    \n\n    \n## Chance v.s. Choice\n### Modeling the Assignment/Selection of $\\rD_i$\n\n- Tradition in statistics: Chance (Fisher 1925, Neyman 1923)\n    - crops (or plots of land) are passive\n    - $\\rD_i$ is randomly assigned; no need for modeling\n    - automatically, $\\rY_{1i}, \\rY_{0i} \\indep \\rD_i$\n- When generalizing to observational studies, causal inference relies on a key assumption: CIA (other names: ignorability, unconfoundedness, exogeneity, selection-on-observables):\n    - $\\rY_{1i}, \\rY_{0i} \\indep \\rD_i | \\rvX_i$\n    - $\\rvX_i$ is a set of pretreatment variables; within strata given by $\\rvX_i$, variations in $\\rD_i$ is random\n    - suitable for the single structure equation: $\\rY_i = \\alpha + \\rho \\rD_i + \\rvX_i'\\vgamma + \\eta_i$\n    \n### Modeling the Assignment/Selection of $\\rD_i$\n\n- Tradition in econometrics: Choice\n    - people are actively maximizing utilities s.t. constraints\n    - reveal preference: even conditional on $\\rvX_i$, the fact that $d_i = 1$ and $d_j = 0$ are being chosen suggests $i$ and $j$ have different potential outcome (CIA is difficult to justify)\n- Examples:\n    1. the simplest Roy model: $\\mathds{1}[\\rY_{1i}\\geq\\rY_{0i}]$\n        - hunter or fisher? immigrate or not? college or not?\n    2. discrete choice: $\\prob{\\rD_i = 1} = \\prob{\\rU_{1i} \\geq \\rU_{0i}} = \\prob{\\rV_{1i} + \\epsi_{1i} \\geq \\rV_{0i} + \\epsi_{0i}}$\n    3. selection into $\\rD_i$ is based on a latent variable: $\\rD_i = \\mathds{1}[\\rD^*_i \\geq 0]$.\n        - the latent variable $\\rD^*_i$ is based on an index function:\n        - $\\rD^*_i = h(\\rvZ_i, \\xi_i) = \\rvZ_i'\\gamma + \\xi_i$; $\\rvZ_i$ observable, $\\xi_i$ unobservable\n        \n### Interactions between Chance and Choice\n- Is \"Choice\" irrelevant when you have \"chance\"?\n    - Hawthorne effect; attrition; endognous response; \n    - Example: consider the impact of universal preschool\n        - kids' cognitive outcome: $\\rY = f(\\mathrm{PreSchl}, \\mathrm{Parents' Input})$\n        - parents' choice: $\\mathrm{Parents' Input} = g(\\mathrm{Wealth}, \\mathrm{PreSchl})$\n        - what will RCTs estimate? is it sufficient for answering policy question?\n- Is \"Chance\" irrelevant when you consider \"choice\"?\n    - hunting for exogenous shocks\n    - Example: consider the impact of unskilled immigrants on native earnings\n        - likely selection problem?\n        - 1980 Mariel boatlift\n        \n### More on observable and unobservable\n- Selection-on-observables:\n    - density: $f(y_{ji}\\mid d_i) \\neq f(y_{ji})$ but $f(y_{ji}\\mid d_i, x_i) = f(y_{ji}\\mid \\vx_i)$, $j = 1, 2$\n    - mean independence:  $\\EE{\\rY_{ji}\\mid\\rD_i} \\neq \\EE{\\rY_{ji}}$ but $\\EE{\\rY_{ji}\\mid\\rD_i,\\rvX_i} =\\EE{\\rY_{ji}\\mid\\rvX_i}$, $j = 1, 2$\n    - compactly: CIA: $\\rY_{1i}, \\rY_{0i} \\indep \\rD_i | \\rvX_i$\n- Selection-on-unobservables:\n    - density: $f(y_{ji}\\mid d_i,\\vx_i) \\neq f(y_{ji} \\mid \\vx_i)$ but $f(y_{ji}\\mid d_i, \\vx_i, \\xi_i) = f(y_{ji}\\mid \\vx_i, \\xi_i)$, $j = 1, 2$\n    - mean independence: $\\EE{\\rY_{ji}\\mid\\rD_i, \\rvX_i} \\neq \\EE{\\rY_i\\mid \\rvX_i}$ but $\\EE{\\rY_i\\mid\\rD_i,\\rvX_i,\\xi_i} =\\EE{\\rY_i\\mid\\rvX_i,\\xi_i}$, $j = 1, 2$    \n    \n    \n# RCTs\n\n### Two Examples\n\n- Let's consider two interesting and important RCTs:\n    - The Role of Simplification and Information in College Decisions: Results from the H&R Block FAFSA Experiment (@bettinger2012role)\n    - Health Insurance and the Demand for MedicalCare: Evidence from a Randomized Experiment (@manning1987health)\n- We will use these examples to review questions in the Week 1 study guide\n\n## The Role of Simplification\n### What is the Selection Problem?\n\n- We know that financial aid increases college enrollment\n- But the take-up rate of federal financial aid is lower than one might expect. Why?\n- This paper assesses whether complexity is an important barrier.\n    - the FAFSA application is 8 pages long and has over 100 questions\n\n### The Experiment\n\n- Program began in January 2008; 156 H & R Block tax preparation offices in Ohio and Charlotte, NC.\n- The process:\n    - a person uses HRB for tax preparation services\n    - identify families with family income less than $45,000 (AGI from tax return)\n    - family member between age 15 and 30 without a bachelor’s degree\n        - high school seniors and recent grads; adults\n    - introduced program and received consent\n    \n### Random Assignment into Three Groups\n\n- FAFSA treatment\n    - HRB helped families prepare the FAFSA using information from the tax return and with additional questions\n    - computed eligible financial grants and loans & tuition at local public colleges\n    - form was either mailed in by HRB or family took it home to mail it themselves\n- Information-only treatment\n    - calculate aid from the tax return\n    - provided tuition information\n    - encouraged families to summit on their own\n- Control group\n    - received brochure with basic information on the benefits of college and availability of financial aid\n    \n### Result Discussion\n\n- Table 1: Consent, Exit, and Processing Rates\n    - What's the purpose of this table?\n- Table 2: Discriptive Statistics\n    - What's the implication of Table 2?\n- Table 3: Treatment effect on FAFSA filing\n    - How would you interpret the estimate 0.157 in the first column?\n    - What does the estimated coefficient on information-only suggest?\n- Table 4: Treatment effect on college \n    - Combining with table 3, what can we say about independent participants?\n\n## HIE\n### Backgroup\n- Health care costs have grown extremely fast over the last half-century\n- Why is the cost of medical services rising so fast?\n    - population aging\n    - rising incomes\n    - defensive medicine\n    - technological change\n    - expanding insurance generosity\n        - moral hazard\n        - but how responsive is spending on health to the out of pocket costs?\n        \n### What is the Selection Problem?\n- Suppose you compared health spending between people with no insurance, partial insurance, and full insurance\n    - Who would spend the most?\n    - Could you interpret this as a causal effect?\n\n### The RAND HIE \n- “Between November 1974 and February 1977, the HIE\nenrolled families in six sites: Dayton, Ohio; Seattle,\nWashington; Fitchburg, Massachusetts; Franklin County,\nMassachusetts; Charleston, South Carolina; and\nGeorgetown County, South Carolina”\n- “The sites were selected to represent the four census\nregions; to represent the range of city sizes (a proxy for the complexity of the medical delivery system); to cover a range of waiting times to appointment and physician per capita ratios (to test for the sensitivity of demand elasticities to nonprice rationing); and to include both urban and rural sites in the North and the South.”\n\n### The RAND HIE\n\n- Families were randomly assigned to one of\n14 fee-for-service plans or to a pre-paid group\npractice\n    - Variation in the coinsurance rate (the percentage\nof costs that a person pays out of pocket): Zero, 25%, 50%, and 95%\n    - Variation in the upper-limit of out-of-pocket\nexpenses: 5%, 10%, or 15% of family income, up to $1000\n- Enrolled for either three or five years\n\n### Discussion\n\n- Table 1: Sample by plan and site\n- Table 2: Sample means for use of medical services \n- One of the really nice things in this papers is that the conclusion contains an lengthy discussion about how the results speak to the existing literature and policy debates\n- What do these results imply about the role of insurance in explaining the sustained rise in health care costs?\n    - “Because the free plan demand was only around 1.5\ntimes that of the 95 percent plan, it appears that the\nchange in insurance can explain only a small part,\nperhaps a tenth, of the factor of 7 change in health\nexpenditure in the post-World War II period.”\n    \n    \n# Structure\n## \n### Introduction\n\n- When we read most econometrics textbooks, we mainly learn methods of estimation and inference\n    - to learn something about the population from a sample\n    - OLS, GLS, FE, Std. Err., F Test, ...\n    - admittedly, most of the textbooks authors do talk about causality, marginal effect; ceteris paribus\n- When we read empirical economics papers and go to seminar, people talk about identifications, structural model, reduced form...\n    - are there any formal definitions of these terms?\n    - historically, terms like structural equation and reduced form came from simultaneous equations model, But now?\n    \n### Usage of Structure\n\n- Historically, economists rely on structural equations models (SEM) to talk about causality\n    - an attempt to link Marshall's _ceteris paribus_ to data\n- \"Structure\" is referred to some mechanisms that generate the population distribution \n    - we wish to \"identify\" the underlying structure at the population level\n    - this is different from \"estimating\" a population parameter from a sample (more on this later) \n\n### Causality is in Our Mind\n    \n- But how do we know there exists some underlying structure?\n    - We \"model\" the structure -- People (especially economists) like to rationalize what they see in data and every day life\n- Example from Pearl: \n    - \"Did you eat from that tree?\"\n    - \"The woman whom you gave to be with me, she handed me the fruit from the tree; and I ate.\"\n    - Pearl: \"God did not ask for explanation, only for the fact... [C]ausal explanation is a __man-made concept__.\"\n    \n### My Role as an TA\n- Personally, I think many emprical work are exercises about \"persuasion\"; thus I see my role as an TA to share with you tools that I think can help us persuade our peers: \n    - more \"vocabularies\" or \"dialects\" that I heard \n    - equations that have clear interpretations\n    - ID strategies that children can understand\n    - tables and graphs that tells stories or fails to tell stories\n    - robustness checks that actually do check\n- More suggestions?\n\n### Sturture Objects\n\n- We accept that we are starting with a model and try to identify it in econometrics (\"Everyone has a model in their mind.\")\n- So what exactly is an structural object?\n- Something that is _invariant_ no matter what happens\n    - examples: preference (economic primitives), law of demand\n    - structural objects can be described as structural parameters or functions\n    \n### Controverials \n\n- How do we identify these structural objects?\n    - Two main ways in econometrics: Model-based methods and Design-based methods (See Card's [lecture](https://www.youtube.com/watch?v=S6xSEiB6E2s))\n- \"Structural modeling\": estimate all primitives and then simulate \"structural relationship\"/counterfactural\n- \"Reduced form\": estimate structural relationship with exogenous variations\n- These are two extremes, but you can also derive a small set of statistics sufficient to characterize the structural relationship of interest (@chetty2008sufficient, @weyl2014price)\n\n### \"Persuasive Activities\"\n\n- Best empirical workers are able to mix methods to identify structural relationship \n- For more discussions of these \"persuasive activities\" see @angrist2010credibility, @keane2010structural, @sims2010but, @nevo2010taking, @deaton2010instruments, @imbens2010better, @wolpin2013limits\n- To be more concrete, let's consider a few structural equations\n\n### Example 1: Single Structural Equation\n\n- Example: $\\rY_i = f(\\rX_i, \\rU_i) = \\beta \\rX_i + \\rU_i$\n    - assume linearity, homogeneous effect, and additive separability\n    - Usually $\\rU$ is assumed to be followed some distribution\n    - Note that this is not a regression; even the equal sign might not be the mathematical sign (much like an assignment operator)\n- In MHE, one single structural equation keep popping out:\n    - $\\rY_i = \\alpha + \\rho \\rS_i + \\rvX'_i \\vgamma + \\epsilon_i$\n    - it would be our focus for at least half of the semester\n\n### Example 2: Linear Simultaneous Equations Model\n\n- In general matrix notation: $\\mA \\vy = \\mB \\vz + \\vu$\n    - $\\vy$: endogenous vector (eqm. outcome); $\\vz$: exogenous vector\n- Example: supply and demand, or interaction between two agents\n    - my diet habit: $p = \\alpha_1 q + \\beta_1 z_1 + u_1$, \n    - my wife's diet habit: $q = \\alpha_2 p + \\beta_2 z_1 + u_2$ \n    - simplify to matrix notation?\n- Reduced form: $\\vy = \\mA\\inv \\mB \\vz +  \\mA\\inv \\vu$\n    - $p = \\frac{\\beta_1 + \\alpha_1 \\beta_2}{1 - \\alpha_1\\alpha_2} z_1 + v_1$\n    - $q = \\frac{\\beta_1 \\alpha_2 + \\beta_2}{1 - \\alpha_1\\alpha_2} z_1 + v_2$\n- Point: running a regression based on the reduced form is not sufficient to identify the parameter of interest ($\\alpha_1$ or $\\alpha_2$)\n    \n### Example 3: Triangular/Recursive System\n\n- Consider the following structural system: \n    - $\\rY_i = f(\\rX_i, \\rU_i)$\n    - $\\rX_i = g(\\rZ_i, \\rV_i)$\n    - usually assume $\\rZ \\indep (\\rU, \\rV)$\n- The linear version of it is the traditional IV set up\n    - $\\rY_i =  \\alpha + \\rho \\rX_i + \\rU_i$\n    - $\\rX_i =  \\phi + \\delta \\rZ_i + \\rV_i$\n    - @angrist1996identification relax many of the assumptions by introducing Rubin Causal Model\n    \n\n\n### References {.allowframebreaks}",
    "created" : 1440891179510.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "118334533",
    "id" : "2E5048AA",
    "lastKnownWriteTime" : 1440890611,
    "path" : "~/Desktop/econ535/src/w1.Rmd",
    "project_path" : "src/w1.Rmd",
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_markdown"
}